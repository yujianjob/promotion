//教师个人报名
function classRegister(_classid, SignUpStartTime, SignUpEndTime, People, LimitPeopleCnt) {
    if (check(SignUpStartTime, SignUpEndTime, People, LimitPeopleCnt)) {
        var _data = {
            ClassId: _classid
        };
        $.ajax({
            url: '/Market/Coursemarket/ClassRegister',
            type: 'GET',
            data: _data,
            contentType: 'application/json; charset=utf-8',
            dataType: 'text',
            error: function (m) {
                var z = m;
            },
            success: function (data) {
                var result = $.parseJSON(data);
                if (result.Code == 0) {
                    Alert(result.Msg);
                    window.location = "/Market/Coursemarket/CoursemarketSingleList";
                }
                else {
                    Alert(result.Msg);
                }
               
            },
            error: function () {
                Alert('服务器错误！');
            }
        });
    }
}

//验证时间和人数
function check(SignUpStartTime, SignUpEndTime, People, LimitPeopleCnt) {
    var myDate = new Date();
    var myStart = new Date(SignUpStartTime);
    var myEnd = new Date(SignUpEndTime);
    var myPeople = Number(People);
    var myLimitPeopleCnt = Number(LimitPeopleCnt);
    if (myStart > myDate) {
        Alert("未到报名时间");
        return false;
    }
    if (myEnd < myDate) {
        Alert("已过报名时间");
        return false;
    }
    if (myLimitPeopleCnt <= myPeople) {
        Alert("报名人数已满");
        return false;
    }
    return true;
}